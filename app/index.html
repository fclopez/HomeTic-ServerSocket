<html>
<head>
  <title>Servidor WSocket-io</title>
    <script src = "/socket.io/socket.io.js" > </script>
    <script type=text/javascript src="https://code.jquery.com/jquery-1.7.1.min.js"></script>
</head>

<body>
  <h1>Servidor WSocket-io</h1>
</br>
    <input type="button" name="onButton" id="onButton" value="encender" onClick="ledOn();">
    <input type="button" name="offButton" id="offButton" value="apagar" onClick="ledOff();">
    <input type="button" name="pirButton" id="pirButton" value="pir" onClick="pirON();">
    <p id='server-time'></p>
</body>
<script>

    var el = document.getElementById('server-time');
    var host = location.origin;
    var socket = io.connect(host);

    socket.on('ledstatus', function (data) {
      $("body").css("background-color", data);
    });

    socket.on('time', function(timeString) {
      el.innerHTML = 'Hora del servidor: ' + timeString;
    });

    /*Funciones de respuesta*/
    function ledOn(){
      socket.emit('led', 'on');
    }

    function ledOff(){
      socket.emit('led', 'off');
    }

    function pirON(){
      socket.emit('activar', 'on');
    }
</script>
</html>
